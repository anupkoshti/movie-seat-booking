{"ast":null,"code":"import _toConsumableArray from\"/home/anupamkoshti/Downloads/movie-seat-booking/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/anupamkoshti/Downloads/movie-seat-booking/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Fragment,useState}from\"react\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedSeats=_useState2[0],setSelectedSeats=_useState2[1];var toggleSelectSeatHandler=function toggleSelectSeatHandler(seatNumber){if(selectedSeats.includes(seatNumber)){setSelectedSeats(selectedSeats.filter(function(s){return s!==seatNumber;}));}else{setSelectedSeats([].concat(_toConsumableArray(selectedSeats),[seatNumber]));}};var isSelected=function isSelected(seatNumber){return selectedSeats.includes(seatNumber);};// console.log(selectedSeats)\nvar bookSeatsHandler=function bookSeatsHandler(){// Send selectedSeats as a JSON object to the server\nfetch(\"/insert-selected-seats\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({selectedSeats:selectedSeats})}).then(function(response){if(response.ok){console.log(\"Selected seats have been booked!\");setSelectedSeats([]);}else{console.log(\"Error occurred while booking seats!\");}});};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"movie-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Select a movie:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"movie\",onChange:function onChange(){return setSelectedSeats([]);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"220\",children:\"Godzilla vs Kong (RS.220)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"320\",children:\"Radhe (RS.320)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"250\",children:\"RRR (RS.250)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"260\",children:\"F9 (RS.260)\"})]})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"showcase\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"seat\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Available\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"seat selected\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Selected\"})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"seat sold\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Sold\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"screen\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:Array.from({length:10},function(_,i){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return toggleSelectSeatHandler(i+1);},className:isSelected(i+1)?\"selected\":\"seat\",style:{backgroundColor:isSelected(i+1)?\"green\":\"\"},children:i+1},i);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSelectedSeats(Array.from({length:10},function(_,i){return i+1;}));},children:\"All\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setSelectedSeats([]);},children:\"None\"}),/*#__PURE__*/_jsx(\"button\",{onClick:bookSeatsHandler,children:\"Book\"}),selectedSeats.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"selected-seats\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Selected Seats:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:selectedSeats.map(function(seatNumber){return/*#__PURE__*/_jsx(\"span\",{className:\"seat\",children:seatNumber},seatNumber);})})]})]})]})]});}export default App;","map":{"version":3,"names":["Fragment","useState","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","selectedSeats","setSelectedSeats","toggleSelectSeatHandler","seatNumber","includes","filter","s","concat","_toConsumableArray","isSelected","bookSeatsHandler","fetch","method","headers","body","JSON","stringify","then","response","ok","console","log","children","className","id","onChange","value","Array","from","length","_","i","onClick","style","backgroundColor","map"],"sources":["/home/anupamkoshti/Downloads/movie-seat-booking/client/src/App.js"],"sourcesContent":["import { Fragment, useState } from \"react\";\nimport \"./App.css\";\n\nfunction App() {\n  const [selectedSeats, setSelectedSeats] = useState([]);\n\n  const toggleSelectSeatHandler = (seatNumber) => {\n    if (selectedSeats.includes(seatNumber)) {\n      setSelectedSeats(selectedSeats.filter((s) => s !== seatNumber));\n    } else {\n      setSelectedSeats([...selectedSeats, seatNumber]);\n    }\n  };\n\n  const isSelected = (seatNumber) => selectedSeats.includes(seatNumber);\n  // console.log(selectedSeats)\n\n  const bookSeatsHandler = () => {\n    // Send selectedSeats as a JSON object to the server\n    fetch(\"/insert-selected-seats\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ selectedSeats }),\n    }).then((response) => {\n      if (response.ok) {\n        console.log(\"Selected seats have been booked!\");\n        setSelectedSeats([]);\n      } else {\n        console.log(\"Error occurred while booking seats!\");\n      }\n    });\n  };\n\n  return (\n    <Fragment>\n      <div className=\"movie-container\">\n        <label> Select a movie:</label>\n        <select id=\"movie\" onChange={() => setSelectedSeats([])}>\n          <option value=\"220\">Godzilla vs Kong (RS.220)</option>\n          <option value=\"320\">Radhe (RS.320)</option>\n          <option value=\"250\">RRR (RS.250)</option>\n          <option value=\"260\">F9 (RS.260)</option>\n        </select>\n      </div>\n\n      <ul className=\"showcase\">\n        <li>\n          <div className=\"seat\"></div>\n          <small>Available</small>\n        </li>\n        <li>\n          <div className=\"seat selected\"></div>\n          <small>Selected</small>\n        </li>\n        <li>\n          <div className=\"seat sold\"></div>\n          <small>Sold</small>\n        </li>\n      </ul>\n\n      <div className=\"container\">\n        <div className=\"screen\"></div>\n\n        <div className=\"row\">\n          {Array.from({ length: 10 }, (_, i) => (\n            <div\n              key={i}\n              onClick={() => toggleSelectSeatHandler(i + 1)}\n              className={isSelected(i + 1) ? \"selected\" : \"seat\"}\n              style={{ backgroundColor: isSelected(i + 1) ? \"green\" : \"\" }}\n            >\n              {i + 1}\n            </div>\n          ))}\n        </div>\n\n        <div className=\"\">\n          <button\n            onClick={() =>\n              setSelectedSeats(Array.from({ length: 10 }, (_, i) => i + 1))\n            }\n          >\n            All\n          </button>\n          <button onClick={() => setSelectedSeats([])}>None</button>\n          <button onClick={bookSeatsHandler}>Book</button>\n          {selectedSeats.length > 0 && (\n            <div className=\"selected-seats\">\n              <p>Selected Seats:</p>\n              <div className=\"row\">\n                {selectedSeats.map((seatNumber) => (\n                  <span key={seatNumber} className=\"seat\">\n                    {seatNumber}\n                  </span>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}